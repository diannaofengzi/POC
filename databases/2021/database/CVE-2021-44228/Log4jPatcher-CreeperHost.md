# Log4jPatcher

A mitigation for CVE-2021-44228 (log4shell) that works by patching the vulnerability at runtime. (Works with any vulnerable java software, tested with java 6 and newer)

| Infos    | Value                                                              |
| -------- | -------------------------------------------------------------------|
| Username | [https://github.com/CreeperHost](https://github.com/CreeperHost) |
| Url      | [https://github.com/CreeperHost/Log4jPatcher](https://github.com/CreeperHost/Log4jPatcher)                                               |
| Stars    | 44                                                          |
| License  | MIT License                                                        |

<details>

<summary>Topic / Tags</summary>

* cve-2021-44228* log4j* log4j2* log4shell

</details>

## Readme

# Log4jPatcher

A Java Agent based mitigation for Log4j2 JNDI exploits.

This agent employs 2 patches:  
- Disabling all Lookup conversions (on supported Log4j versions) 
  in `org.apache.logging.log4j.core.pattern.MessagePatternConverter` by setting `noLookups` to true in the constructor.
- Disabling the `org.apache.logging.log4j.core.lookup.JndiLookup` class by just returning `null`
  in its `lookup` function.


### To use
Download the latest release available from GitHub:
https://github.com/CreeperHost/Log4jPatcher/releases

Add `-javaagent:Log4jPatcher.jar` as a JVM argument.

For Minecraft users:
The full path to the jar needs to be added in the above argument unless the jar is put into the instance (or .minecraft) folder.
This jar does not go into the mods folder.

You can find a guide for Minecraft here:

https://www.creeperhost.net/wiki/books/minecraft-java-edition/page/mitigating-cve-2021-44228-in-minecraft



## Get the content

```
git clone https://github.com/CreeperHost/Log4jPatcher
cd Log4jPatcher
```

{% embed url="https://github.com/CreeperHost/Log4jPatcher" %}

<figure><img src="https://avatars.githubusercontent.com/u/7502613?v=4" alt=""><figcaption><p>CreeperHost</p></figcaption></figure>
